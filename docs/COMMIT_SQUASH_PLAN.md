# コミット整理計画

## 整理方針

182個のコミットを意味のある単位にまとめます。

## 主要なグループ分け

### 1. 初期セットアップ (保持)
- `e52f926` Initial commit: Flask trends dashboard application

### 2. 基本機能の実装 (まとめる)
- はてなブックマークカテゴリ切り替え
- 統一されたナビゲーション
- データ鮮度情報
- → `feat: 基本機能の実装（はてなブックマーク、ナビゲーション、データ鮮度情報）`

### 3. UI改善 (まとめる)
- データ鮮度情報ページのUI改善
- サブスクリプションUI統一
- レイアウト調整
- → `feat: UI改善（データ鮮度情報、サブスクリプション、レイアウト）`

### 4. キャッシュシステムの実装と改善 (まとめる)
- Music Trends cache retrieval
- YouTube急上昇トレンドとPodcastキャッシュ表示問題
- スキーマ自動マイグレーション（podcast, youtube, rakuten, music）
- → `feat: キャッシュシステムの実装と改善`

### 5. データベース接続管理の改善 (まとめる)
- データベース接続管理を改善
- 接続リトライロジック
- シングルトンパターンとkeepalive
- エラーハンドリング改善
- → `fix: データベース接続管理の改善（リトライ、keepalive、エラーハンドリング）`

### 6. Hatena/Twitchキャッシュ問題の修正 (まとめる)
- Hatena/Twitch cache display speed
- インデントエラー修正
- キャッシュ保存問題の修正
- → `fix: Hatena/Twitchキャッシュ問題の修正`

### 7. マネージャー初期化の改善 (まとめる)
- マネージャー初期化の重複解消
- スレッドセーフな初期化
- タイムアウト設定
- → `fix: マネージャー初期化の改善（重複解消、スレッドセーフ、タイムアウト）`

### 8. Stock/Crypto機能の追加 (まとめる)
- StockとCryptoトレンドの追加
- yfinanceの実装と改善
- 週末・市場休場時の処理
- エラーハンドリング
- → `feat: Stock/Crypto機能の追加と改善`

### 9. World News API改善 (まとめる)
- 最新記事取得
- 使用量削減
- → `fix: World News API改善（最新記事取得、使用量削減）`

### 10. デプロイ・スケジューラー改善 (まとめる)
- デプロイ時の自動実行制御
- スケジューラー改善
- メール送信制御
- → `fix: デプロイ・スケジューラー改善（自動実行制御、メール送信制御）`

### 11. プロジェクト整理 (まとめる)
- プロジェクトファイルの整理
- ドキュメント整理
- → `refactor: プロジェクト整理（ファイル整理、ドキュメント整理）`

### 12. レート制限機能の実装 (まとめる)
- 統一的なレート制限機能
- 各マネージャーへの実装
- → `feat: 統一的なレート制限機能の実装`

## 実行方法

1. バックアップブランチを作成:
   ```bash
   git branch backup-before-squash
   ```

2. 対話的rebaseを実行:
   ```bash
   git rebase -i e52f926
   ```

3. エディタで各コミットを `pick`, `squash`, `fixup` に変更

4. コミットメッセージを整理

## 注意事項

- リモートにプッシュする前に実行すること
- バックアップブランチを作成すること
- 整理後は `git push --force` が必要になる可能性がある
