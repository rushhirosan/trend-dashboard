<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Éá„Éº„ÇøÈÆÆÂ∫¶ÊÉÖÂ†± - Trends Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/common.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/data-status.css') }}" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/data-freshness.js') }}"></script>
</head>
<body class="bg-light">
    <!-- „Éò„ÉÉ„ÉÄ„Éº -->
    <header class="bg-white shadow-sm border-bottom" id="mainHeader">
        <div class="container-fluid px-3">
            <div class="d-flex align-items-center justify-content-between py-2">
                <!-- Â∑¶ÂÅ¥: „É≠„Ç¥„Å®„Çø„Ç§„Éà„É´ -->
                <div class="d-flex align-items-center">
                    <i class="fas fa-clock text-secondary me-2" style="font-size: 1.5rem;"></i>
                    <h1 class="h4 mb-0 text-secondary">„Éá„Éº„ÇøÈÆÆÂ∫¶ÊÉÖÂ†±</h1>
                </div>
                <!-- Âè≥ÂÅ¥: „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ -->
                <div class="d-flex align-items-center">
                    <a href="/" class="btn btn-outline-primary me-2">
                        <i class="fas fa-chart-line"></i> „Éà„É¨„É≥„Éâ‰∏ÄË¶ßÔºàÊó•Êú¨Ôºâ
                    </a>
                    <a href="/us" class="btn btn-outline-primary me-2">
                        <i class="fas fa-chart-line"></i> „Éà„É¨„É≥„Éâ‰∏ÄË¶ßÔºà„Ç¢„É°„É™„Ç´Ôºâ
                    </a>
                    <a href="/data-status" class="btn btn-secondary me-2">
                        <i class="fas fa-clock"></i> <small>„Éá„Éº„ÇøÈÆÆÂ∫¶ÊÉÖÂ†±</small>
                    </a>
                    <a href="/subscription" class="btn btn-outline-info">
                        <i class="fas fa-envelope"></i> <small>„Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥</small>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <div class="container-fluid py-4">
        <!-- „Éá„Éº„ÇøÈÆÆÂ∫¶ÊÉÖÂ†±„É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
        <div class="px-3">
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <div id="dataFreshnessContent">
                                <!-- „Éá„Éº„ÇøÈÆÆÂ∫¶„Ç´„Éº„Éâ„Ç∞„É™„ÉÉ„Éâ -->
                                <div class="row g-3">
                                    <!-- 1Ë°åÁõÆ -->
                                    <div class="col-md-6">
                                        <div class="card h-100">
                                            <div class="card-body">
                                                <div class="d-flex align-items-center mb-3">
                                                    <i class="fab fa-google text-primary fs-4 me-3"></i>
                                                    <h6 class="card-title mb-0">Google Trends</h6>
                                                </div>
                                                <div class="row text-center">
                                                    <div class="col-4">
                                                        <small class="text-muted">ÊúÄÁµÇÊõ¥Êñ∞</small>
                                                        <div class="fw-bold" id="googleLastUpdate">-</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <small class="text-muted">„Éá„Éº„Çø‰ª∂Êï∞</small>
                                                        <div class="fw-bold" id="googleDataCount">-</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <small class="text-muted">„Çπ„ÉÜ„Éº„Çø„Çπ</small>
                                                        <div><span class="badge bg-secondary" id="googleStatus">-</span></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="col-md-6">
                                        <div class="card h-100">
                                            <div class="card-body">
                                                <div class="d-flex align-items-center mb-3">
                                                    <i class="fab fa-youtube text-danger fs-4 me-3"></i>
                                                    <h6 class="card-title mb-0">YouTube</h6>
                                                </div>
                                                <div class="row text-center">
                                                    <div class="col-4">
                                                        <small class="text-muted">ÊúÄÁµÇÊõ¥Êñ∞</small>
                                                        <div class="fw-bold" id="youtubeLastUpdate">-</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <small class="text-muted">„Éá„Éº„Çø‰ª∂Êï∞</small>
                                                        <div class="fw-bold" id="youtubeDataCount">-</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <small class="text-muted">„Çπ„ÉÜ„Éº„Çø„Çπ</small>
                                                        <div><span class="badge bg-secondary" id="youtubeStatus">-</span></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row g-3 mt-2">
                                    <!-- 2Ë°åÁõÆ -->
                                    <div class="col-md-6">
                                        <div class="card h-100">
                                            <div class="card-body">
                                                <div class="d-flex align-items-center mb-3">
                                                    <i class="fab fa-spotify text-success fs-4 me-3"></i>
                                                    <h6 class="card-title mb-0">Spotify</h6>
                                                </div>
                                                <div class="row text-center">
                                                    <div class="col-4">
                                                        <small class="text-muted">ÊúÄÁµÇÊõ¥Êñ∞</small>
                                                        <div class="fw-bold" id="spotifyLastUpdate">-</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <small class="text-muted">„Éá„Éº„Çø‰ª∂Êï∞</small>
                                                        <div class="fw-bold" id="spotifyDataCount">-</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <small class="text-muted">„Çπ„ÉÜ„Éº„Çø„Çπ</small>
                                                        <div><span class="badge bg-secondary" id="spotifyStatus">-</span></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="col-md-6">
                                        <div class="card h-100">
                                            <div class="card-body">
                                                <div class="d-flex align-items-center mb-3">
                                                    <i class="fas fa-globe text-info fs-4 me-3"></i>
                                                    <h6 class="card-title mb-0">World News</h6>
                                                </div>
                                                <div class="row text-center">
                                                    <div class="col-4">
                                                        <small class="text-muted">ÊúÄÁµÇÊõ¥Êñ∞</small>
                                                        <div class="fw-bold" id="newsLastUpdate">-</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <small class="text-muted">„Éá„Éº„Çø‰ª∂Êï∞</small>
                                                        <div class="fw-bold" id="newsDataCount">-</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <small class="text-muted">„Çπ„ÉÜ„Éº„Çø„Çπ</small>
                                                        <div><span class="badge bg-secondary" id="newsStatus">-</span></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row g-3 mt-2">
                                    <!-- 3Ë°åÁõÆ -->
                                    <div class="col-md-6">
                                        <div class="card h-100">
                                            <div class="card-body">
                                                <div class="d-flex align-items-center mb-3">
                                                    <i class="fas fa-podcast text-warning fs-4 me-3"></i>
                                                    <h6 class="card-title mb-0">Podcast</h6>
                                                </div>
                                                <div class="row text-center">
                                                    <div class="col-4">
                                                        <small class="text-muted">ÊúÄÁµÇÊõ¥Êñ∞</small>
                                                        <div class="fw-bold" id="podcastLastUpdate">-</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <small class="text-muted">„Éá„Éº„Çø‰ª∂Êï∞</small>
                                                        <div class="fw-bold" id="podcastDataCount">-</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <small class="text-muted">„Çπ„ÉÜ„Éº„Çø„Çπ</small>
                                                        <div><span class="badge bg-secondary" id="podcastStatus">-</span></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="col-md-6">
                                        <div class="card h-100">
                                            <div class="card-body">
                                                <div class="d-flex align-items-center mb-3">
                                                    <i class="fas fa-shopping-cart text-danger fs-4 me-3"></i>
                                                    <h6 class="card-title mb-0">Ê•ΩÂ§©</h6>
                                                </div>
                                                <div class="row text-center">
                                                    <div class="col-4">
                                                        <small class="text-muted">ÊúÄÁµÇÊõ¥Êñ∞</small>
                                                        <div class="fw-bold" id="rakutenLastUpdate">-</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <small class="text-muted">„Éá„Éº„Çø‰ª∂Êï∞</small>
                                                        <div class="fw-bold" id="rakutenDataCount">-</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <small class="text-muted">„Çπ„ÉÜ„Éº„Çø„Çπ</small>
                                                        <div><span class="badge bg-secondary" id="rakutenStatus">-</span></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row g-3 mt-2">
                                    <!-- 4Ë°åÁõÆ -->
                                    <div class="col-md-6">
                                        <div class="card h-100">
                                            <div class="card-body">
                                                <div class="d-flex align-items-center mb-3">
                                                    <i class="fas fa-bookmark text-warning fs-4 me-3"></i>
                                                    <h6 class="card-title mb-0">„ÅØ„Å¶„Å™„Éñ„ÉÉ„ÇØ„Éû„Éº„ÇØ</h6>
                                                </div>
                                                <div class="row text-center">
                                                    <div class="col-4">
                                                        <small class="text-muted">ÊúÄÁµÇÊõ¥Êñ∞</small>
                                                        <div class="fw-bold" id="hatenaLastUpdate">-</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <small class="text-muted">„Éá„Éº„Çø‰ª∂Êï∞</small>
                                                        <div class="fw-bold" id="hatenaDataCount">-</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <small class="text-muted">„Çπ„ÉÜ„Éº„Çø„Çπ</small>
                                                        <div><span class="badge bg-secondary" id="hatenaStatus">-</span></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="col-md-6">
                                        <div class="card h-100">
                                            <div class="card-body">
                                                <div class="d-flex align-items-center mb-3">
                                                    <i class="fab fa-twitch text-purple fs-4 me-3"></i>
                                                    <h6 class="card-title mb-0">Twitch</h6>
                                                </div>
                                                <div class="row text-center">
                                                    <div class="col-4">
                                                        <small class="text-muted">ÊúÄÁµÇÊõ¥Êñ∞</small>
                                                        <div class="fw-bold" id="twitchLastUpdate">-</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <small class="text-muted">„Éá„Éº„Çø‰ª∂Êï∞</small>
                                                        <div class="fw-bold" id="twitchDataCount">-</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <small class="text-muted">„Çπ„ÉÜ„Éº„Çø„Çπ</small>
                                                        <div><span class="badge bg-secondary" id="twitchStatus">-</span></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Êõ¥Êñ∞„Éú„Çø„É≥ -->
                                <div class="row mt-4">
                                    <div class="col-12 text-center">
                                        <button class="btn btn-primary btn-lg" id="refreshDataBtn">
                                            <i class="fas fa-sync-alt"></i> „Éá„Éº„ÇøÈÆÆÂ∫¶ÊÉÖÂ†±„ÇíÊõ¥Êñ∞
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„Å´„Éá„Éº„ÇøÈÆÆÂ∫¶ÊÉÖÂ†±„ÅÆ„Åø„ÇíÊõ¥Êñ∞
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üìä „Éá„Éº„ÇøÈÆÆÂ∫¶ÊÉÖÂ†±„Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
            
            // „Éá„Éº„ÇøÈÆÆÂ∫¶ÊÉÖÂ†±„ÅÆ„Åø„ÇíÊõ¥Êñ∞Ôºà„Éà„É¨„É≥„Éâ„Éá„Éº„Çø„ÅØË™≠„ÅøËæº„Åæ„Å™„ÅÑÔºâ
            if (typeof refreshDataFreshnessExternal === 'function') {
                console.log('üîÑ „Éá„Éº„ÇøÈÆÆÂ∫¶ÊÉÖÂ†±Êõ¥Êñ∞ÈñãÂßã...');
                refreshDataFreshnessExternal();
            } else {
                console.log('‚ùå refreshDataFreshnessExternalÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
            }
            
            // Êõ¥Êñ∞„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº
            const refreshBtn = document.getElementById('refreshDataBtn');
            if (refreshBtn) {
                refreshBtn.addEventListener('click', function() {
                    console.log('üîÑ ÊâãÂãï„Åß„Éá„Éº„ÇøÈÆÆÂ∫¶ÊÉÖÂ†±„ÇíÊõ¥Êñ∞');
                    if (typeof refreshDataFreshnessExternal === 'function') {
                        refreshDataFreshnessExternal();
                    } else {
                        console.log('‚ùå refreshDataFreshnessExternalÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
                    }
                });
            }
        });
    </script>
</body>
</html>
