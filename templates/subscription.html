<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>„É°„Éº„É´„Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥ - „Éà„É¨„É≥„Éâ„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</title>
    <meta name="description" content="„Éà„É¨„É≥„Éâ„Çµ„Éû„É™„Éº„Çí„É°„Éº„É´„ÅßÂèó‰ø°„Åß„Åç„Åæ„Åô„ÄÇÊØéÊó•„ÄÅÊØéÈÄ±„ÄÅÊØéÊúà„ÅÆÈÖç‰ø°È†ªÂ∫¶„Åã„ÇâÈÅ∏ÊäûÂèØËÉΩ„ÄÇGoogle Trends„ÄÅYouTube„ÄÅSpotify„ÄÅ„ÅØ„Å¶„Å™„Éñ„ÉÉ„ÇØ„Éû„Éº„ÇØ„ÄÅÊ•ΩÂ§©„ÄÅTwitch„ÄÅPodcast„Å™„Å©„ÅÆÊúÄÊñ∞„Éà„É¨„É≥„ÉâÊÉÖÂ†±„Çí„ÅäÂ±ä„Åë„Åó„Åæ„Åô„ÄÇ">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://trends-dashboard.fly.dev/subscription">
    
    <!-- Performance Optimization: Preconnect to external domains -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    
    <!-- Performance Optimization: Preload critical CSS -->
    <link href="{{ url_for('static', filename='css/common.css') }}" rel="preload" as="style">
    <link href="{{ url_for('static', filename='css/main.css') }}" rel="preload" as="style">
    
    <!-- Google Analytics (GA4) -->
    {% if config.get('GOOGLE_ANALYTICS_ID') %}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ config.GOOGLE_ANALYTICS_ID }}"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '{{ config.GOOGLE_ANALYTICS_ID }}');
    </script>
    {% endif %}
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/common.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/main.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/subscription.css') }}" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/subscription.js') }}"></script>
</head>
<body class="bg-light">
    <!-- „Éò„ÉÉ„ÉÄ„Éº -->
    <header class="bg-white shadow-sm border-bottom" id="mainHeader">
        <div class="container-fluid px-3">
            <div class="d-flex align-items-center justify-content-between py-2">
                <!-- Â∑¶ÂÅ¥: „É≠„Ç¥„Å®„Çø„Ç§„Éà„É´ -->
                <div class="header-title">
                    <i class="fas fa-envelope header-title-icon"></i>
                    <h1 class="h4 mb-0 header-title-text">„Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥</h1>
                </div>
                <!-- Âè≥ÂÅ¥: „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ -->
                <div class="d-flex align-items-center">
                    <a href="/" class="btn header-nav-btn">
                        <i class="fas fa-chart-line"></i> Êó•Êú¨„Éà„É¨„É≥„Éâ
                    </a>
                    <a href="/us" class="btn header-nav-btn">
                        <i class="fas fa-chart-line"></i> US Trends
                    </a>
                    <a href="/data-status" class="btn header-nav-btn">
                        <i class="fas fa-clock"></i> „Éá„Éº„ÇøÈÆÆÂ∫¶
                    </a>
                    <a href="/subscription" class="btn header-nav-btn active">
                        <i class="fas fa-envelope"></i> „Çµ„Éñ„Çπ„ÇØ
                    </a>
                </div>
            </div>
        </div>
    </header>

    <div class="container-fluid py-4">
        <!-- „Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥„É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
        <div class="px-3">
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header bg-info text-white">
                            <h5><i class="fas fa-envelope"></i> „Éà„É¨„É≥„Éâ„Çµ„Éû„É™„ÉºÈÖç‰ø°</h5>
                        </div>
                        <div class="card-body">
                            <!-- „Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥ÁôªÈå≤„Éï„Ç©„Éº„É† -->
                            <div id="subscriptionForm">
                                <div class="row">
                                    <div class="col-md-8">
                                        <h6 class="mb-3">üìß „É°„Éº„É´„Ç¢„Éâ„É¨„Çπ„ÇíÁôªÈå≤„Åó„Å¶„ÄÅÊØéÊó•„ÅÆ„Éà„É¨„É≥„Éâ„Çµ„Éû„É™„Éº„ÇíÂèó„ÅëÂèñ„Çä„Åæ„Åó„Çá„ÅÜ</h6>
                                        <form id="emailSubscriptionForm">
                                            <div class="mb-3">
                                                <label for="emailInput" class="form-label">„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ</label>
                                                <input type="email" class="form-control" id="emailInput" placeholder="your-email@example.com" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="frequencySelect" class="form-label">ÈÖç‰ø°È†ªÂ∫¶</label>
                                                <select class="form-select" id="frequencySelect">
                                                    <option value="daily">ÊØéÊó•</option>
                                                    <option value="weekly">ÊØéÈÄ±</option>
                                                    <option value="monthly">ÊØéÊúà</option>
                                                </select>
                                            </div>
                                            <button type="submit" class="btn btn-primary">
                                                <i class="fas fa-paper-plane"></i> ÁôªÈå≤„Åô„Çã
                                            </button>
                                        </form>
                                    </div>
                                    <div class="col-md-4">
                                        <h6 class="mb-3">üìä ÈÖç‰ø°ÂÜÖÂÆπ„ÇíÈÅ∏Êäû</h6>
                                        <div class="subscription-options">
                                            <!-- Êó•Êú¨„ÅÆ„Éà„É¨„É≥„ÉâÔºà„Éà„É¨„É≥„Éâ„Éö„Éº„Ç∏„ÅÆÈ†ÜÂ∫èÈÄö„ÇäÔºâ -->
                                            <div class="mb-3">
                                                <strong>üáØüáµ Êó•Êú¨„ÅÆ„Éà„É¨„É≥„Éâ</strong>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="nhk_trends_jp" id="nhkTrendsJPCheck" checked>
                                                <label class="form-check-label" for="nhkTrendsJPCheck">
                                                    NHK „Éã„É•„Éº„Çπ (Êó•Êú¨)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="news_trends_jp" id="newsTrendsJPCheck" checked>
                                                <label class="form-check-label" for="newsTrendsJPCheck">
                                                    „Éã„É•„Éº„Çπ„Éà„É¨„É≥„Éâ (Êó•Êú¨)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="google_trends_jp" id="googleTrendsJPCheck" checked>
                                                <label class="form-check-label" for="googleTrendsJPCheck">
                                                    Google Trends (Êó•Êú¨)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="youtube_trends_jp" id="youtubeTrendsJPCheck" checked>
                                                <label class="form-check-label" for="youtubeTrendsJPCheck">
                                                    YouTube „Éà„É¨„É≥„Éâ (Êó•Êú¨)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="hatena_trends_jp" id="hatenaTrendsJPCheck" checked>
                                                <label class="form-check-label" for="hatenaTrendsJPCheck">
                                                    „ÅØ„Å¶„Å™„Éñ„ÉÉ„ÇØ„Éû„Éº„ÇØ„Éà„É¨„É≥„Éâ (Êó•Êú¨)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="qiita_trends_jp" id="qiitaTrendsJPCheck" checked>
                                                <label class="form-check-label" for="qiitaTrendsJPCheck">
                                                    Qiita „Éà„É¨„É≥„Éâ (Êó•Êú¨)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="stock_trends_jp" id="stockTrendsJPCheck" checked>
                                                <label class="form-check-label" for="stockTrendsJPCheck">
                                                    Ê†™‰æ°„Éà„É¨„É≥„Éâ (Êó•Êú¨)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="crypto_trends_jp" id="cryptoTrendsJPCheck" checked>
                                                <label class="form-check-label" for="cryptoTrendsJPCheck">
                                                    ‰ªÆÊÉ≥ÈÄöË≤®„Éà„É¨„É≥„Éâ
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="music_trends_jp" id="musicTrendsJPCheck" checked>
                                                <label class="form-check-label" for="musicTrendsJPCheck">
                                                    Èü≥Ê•Ω„Éà„É¨„É≥„Éâ (Êó•Êú¨)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="podcast_trends_jp" id="podcastTrendsJPCheck" checked>
                                                <label class="form-check-label" for="podcastTrendsJPCheck">
                                                    „Éù„ÉÉ„Éâ„Ç≠„É£„Çπ„Éà„Éà„É¨„É≥„Éâ (Êó•Êú¨)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="movie_trends_jp" id="movieTrendsJPCheck" checked>
                                                <label class="form-check-label" for="movieTrendsJPCheck">
                                                    Êò†Áîª„Éà„É¨„É≥„Éâ (Êó•Êú¨)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="book_trends_jp" id="bookTrendsJPCheck" checked>
                                                <label class="form-check-label" for="bookTrendsJPCheck">
                                                    Êú¨„Éà„É¨„É≥„Éâ (Êó•Êú¨)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="rakuten_trends_jp" id="rakutenTrendsJPCheck" checked>
                                                <label class="form-check-label" for="rakutenTrendsJPCheck">
                                                    Ê•ΩÂ§©ÂïÜÂìÅ„Éà„É¨„É≥„Éâ (Êó•Êú¨)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="twitch_trends_jp" id="twitchTrendsJPCheck" checked>
                                                <label class="form-check-label" for="twitchTrendsJPCheck">
                                                    Twitch„Ç≤„Éº„É†„Éà„É¨„É≥„Éâ (Êó•Êú¨)
                                                </label>
                                            </div>
                                            
                                            <!-- US„ÅÆ„Éà„É¨„É≥„ÉâÔºà„Éà„É¨„É≥„Éâ„Éö„Éº„Ç∏„ÅÆÈ†ÜÂ∫èÈÄö„ÇäÔºâ -->
                                            <div class="mb-3 mt-4">
                                                <strong>üá∫üá∏ US„ÅÆ„Éà„É¨„É≥„Éâ</strong>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="cnn_trends_us" id="cnnTrendsUSCheck">
                                                <label class="form-check-label" for="cnnTrendsUSCheck">
                                                    CNN News (US)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="worldnews_trends_us" id="worldnewsTrendsUSCheck">
                                                <label class="form-check-label" for="worldnewsTrendsUSCheck">
                                                    World News (US)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="google_trends_us" id="googleTrendsUSCheck">
                                                <label class="form-check-label" for="googleTrendsUSCheck">
                                                    Google Trends (US)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="youtube_trends_us" id="youtubeTrendsUSCheck">
                                                <label class="form-check-label" for="youtubeTrendsUSCheck">
                                                    YouTube „Éà„É¨„É≥„Éâ (US)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="hackernews_trends_us" id="hackernewsTrendsUSCheck">
                                                <label class="form-check-label" for="hackernewsTrendsUSCheck">
                                                    Hacker News (US)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="producthunt_trends_us" id="producthuntTrendsUSCheck">
                                                <label class="form-check-label" for="producthuntTrendsUSCheck">
                                                    Product Hunt (US)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="stock_trends_us" id="stockTrendsUSCheck">
                                                <label class="form-check-label" for="stockTrendsUSCheck">
                                                    Stock Trends (US)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="crypto_trends_us" id="cryptoTrendsUSCheck">
                                                <label class="form-check-label" for="cryptoTrendsUSCheck">
                                                    Cryptocurrency Trends
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="music_trends_us" id="musicTrendsUSCheck">
                                                <label class="form-check-label" for="musicTrendsUSCheck">
                                                    Èü≥Ê•Ω„Éà„É¨„É≥„Éâ (US)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="podcast_trends_us" id="podcastTrendsUSCheck">
                                                <label class="form-check-label" for="podcastTrendsUSCheck">
                                                    „Éù„ÉÉ„Éâ„Ç≠„É£„Çπ„Éà„Éà„É¨„É≥„Éâ (US)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="movie_trends_us" id="movieTrendsUSCheck">
                                                <label class="form-check-label" for="movieTrendsUSCheck">
                                                    Êò†Áîª„Éà„É¨„É≥„Éâ (US)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="book_trends_us" id="bookTrendsUSCheck">
                                                <label class="form-check-label" for="bookTrendsUSCheck">
                                                    Êú¨„Éà„É¨„É≥„Éâ (US)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="reddit_trends_us" id="redditTrendsUSCheck">
                                                <label class="form-check-label" for="redditTrendsUSCheck">
                                                    Reddit (US)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" value="twitch_trends_us" id="twitchTrendsUSCheck">
                                                <label class="form-check-label" for="twitchTrendsUSCheck">
                                                    Twitch„Ç≤„Éº„É†„Éà„É¨„É≥„Éâ (US)
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- „Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥Áä∂ÊÖãË°®Á§∫ -->
                            <div id="subscriptionStatus" style="display: none;">
                                <div class="alert alert-success">
                                    <h6><i class="fas fa-check-circle"></i> ÁôªÈå≤ÂÆå‰∫Ü</h6>
                                    <p class="mb-2">„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ: <strong id="registeredEmail"></strong></p>
                                    <p class="mb-3">ÈÖç‰ø°È†ªÂ∫¶: <strong id="registeredFrequency"></strong></p>
                                    <button class="btn btn-outline-danger btn-sm" id="unsubscribeBtn">
                                        <i class="fas fa-times"></i> ÁôªÈå≤Ëß£Èô§
                                    </button>
                                </div>
                            </div>
                            
                            <!-- „Çπ„ÉÜ„Éº„Çø„Çπ„É°„ÉÉ„Çª„Éº„Ç∏ -->
                            <div id="subscriptionMessage" class="alert" style="display: none;"></div>
                            
                            <!-- ÁôªÈå≤Ê∏à„Åø„Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥Ë°®Á§∫ -->
                            <div id="subscriptionList" style="display: none;">
                                <h6 class="mb-3">üìã ÁôªÈå≤Ê∏à„Åø„Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥</h6>
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ</th>
                                                <th>ÈÖç‰ø°È†ªÂ∫¶</th>
                                                <th>ÈÖç‰ø°ÂÜÖÂÆπ</th>
                                                <th>ÁôªÈå≤Êó•</th>
                                                <th>Êìç‰Ωú</th>
                                            </tr>
                                        </thead>
                                        <tbody id="subscriptionTableBody">
                                            <!-- „Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥‰∏ÄË¶ß„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„Å´„Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥Ê©üËÉΩ„ÇíÂàùÊúüÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üìß „Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥„Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
            
            // „Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥Ê©üËÉΩ„ÅÆÂàùÊúüÂåñ
            if (typeof initSubscription === 'function') {
                initSubscription();
            }
        });
        </script>
    
    <!-- Footer with Internal Links -->
    <footer class="bg-white border-top mt-5 py-4">
        <div class="container-fluid px-3">
            <div class="row">
                <div class="col-md-6">
                    <h5 class="h6 mb-3">„Éà„É¨„É≥„Éâ„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</h5>
                    <p class="text-muted small mb-2">„Éà„É¨„É≥„Éâ„Çµ„Éû„É™„Éº„Çí„É°„Éº„É´„ÅßÂèó‰ø°„Åß„Åç„Åæ„Åô„ÄÇÊØéÊó•„ÄÅÊØéÈÄ±„ÄÅÊØéÊúà„ÅÆÈÖç‰ø°È†ªÂ∫¶„Åã„ÇâÈÅ∏ÊäûÂèØËÉΩ„ÄÇGoogle Trends„ÄÅYouTube„ÄÅSpotify„ÄÅ„ÅØ„Å¶„Å™„Éñ„ÉÉ„ÇØ„Éû„Éº„ÇØ„ÄÅÊ•ΩÂ§©„ÄÅTwitch„ÄÅPodcast„Å™„Å©„ÅÆÊúÄÊñ∞„Éà„É¨„É≥„ÉâÊÉÖÂ†±„Çí„ÅäÂ±ä„Åë„Åó„Åæ„Åô„ÄÇ</p>
                </div>
                <div class="col-md-6">
                    <h6 class="h6 mb-3">‰∏ªË¶Å„Éö„Éº„Ç∏</h6>
                    <ul class="list-unstyled small">
                        <li class="mb-2"><a href="/" class="text-decoration-none text-muted">üáØüáµ Êó•Êú¨„Éà„É¨„É≥„Éâ</a></li>
                        <li class="mb-2"><a href="/us" class="text-decoration-none text-muted">üá∫üá∏ US„Éà„É¨„É≥„Éâ</a></li>
                        <li class="mb-2"><a href="/data-status" class="text-decoration-none text-muted">üìä „Éá„Éº„ÇøÈÆÆÂ∫¶ÊÉÖÂ†±</a></li>
                        <li class="mb-2"><a href="/subscription" class="text-decoration-none text-muted">üìß „É°„Éº„É´„Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥</a></li>
                    </ul>
                </div>
            </div>
            <hr class="my-3">
            <div class="text-center text-muted small">
                <p class="mb-0">&copy; 2025 „Éà„É¨„É≥„Éâ„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ. All rights reserved.</p>
            </div>
        </div>
    </footer>
    </body>
</html>
